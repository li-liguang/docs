"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[5083],{2370:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>a});var o=s(4848),r=s(8453);const i={id:"jboss",title:"JBoss\u90e8\u7f72\u5e94\u7528",sidebar_label:"JBoss\u90e8\u7f72\u5e94\u7528"},t=void 0,l={id:"server/jboss/jboss",title:"JBoss\u90e8\u7f72\u5e94\u7528",description:"- JBoss\u7248\u672c\uff1a7.1.0",source:"@site/docs/server/3-jboss/JBoss.md",sourceDirName:"server/3-jboss",slug:"/server/jboss/jboss",permalink:"/docs/docs/server/jboss/jboss",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"jboss",title:"JBoss\u90e8\u7f72\u5e94\u7528",sidebar_label:"JBoss\u90e8\u7f72\u5e94\u7528"},sidebar:"serverSidebar",next:{title:"JBoss\u5b98\u65b9\u6587\u6863[\u4e2d\u6587\u7ffb\u8bd1\u7248]",permalink:"/docs/docs/server/jboss/jboss-config"}},c={},a=[{value:"\u542f\u52a8<code>JBoss</code>",id:"\u542f\u52a8jboss",level:2},{value:"\u505c\u6b62<code>JBoss</code>",id:"\u505c\u6b62jboss",level:2},{value:"\u914d\u7f6e\u5e94\u7528\u53d1\u5e03\u540d",id:"\u914d\u7f6e\u5e94\u7528\u53d1\u5e03\u540d",level:2},{value:"\u4fee\u6539<code>JBoss</code>\u7aef\u53e3",id:"\u4fee\u6539jboss\u7aef\u53e3",level:2},{value:"\u5e94\u7528\u90e8\u7f72\u53ca\u89e3\u90e8\u7f72",id:"\u5e94\u7528\u90e8\u7f72\u53ca\u89e3\u90e8\u7f72",level:2},{value:"1. WAR\u5305\u90e8\u7f72",id:"1-war\u5305\u90e8\u7f72",level:3},{value:"\u65b9\u5f0f1",id:"\u65b9\u5f0f1",level:4},{value:"\u65b9\u5f0f2",id:"\u65b9\u5f0f2",level:4},{value:"\u65b9\u5f0f3",id:"\u65b9\u5f0f3",level:4},{value:"2. \u6587\u4ef6\u5939\u90e8\u7f72",id:"2-\u6587\u4ef6\u5939\u90e8\u7f72",level:3},{value:"2.1 \u4fee\u6539 JBoss \u914d\u7f6e",id:"21-\u4fee\u6539-jboss-\u914d\u7f6e",level:4},{value:"2.2 \u90e8\u7f72\u6587\u4ef6\u5939",id:"22-\u90e8\u7f72\u6587\u4ef6\u5939",level:4},{value:"\u89e3\u51b3JBoss\u542f\u52a8\u65f6\u65e0\u6cd5\u8fde\u63a5zookeeper\u7684\u95ee\u9898",id:"\u89e3\u51b3jboss\u542f\u52a8\u65f6\u65e0\u6cd5\u8fde\u63a5zookeeper\u7684\u95ee\u9898",level:2},{value:"\u65b9\u6cd5\u4e00",id:"\u65b9\u6cd5\u4e00",level:3},{value:"\u65b9\u6cd5\u4e8c",id:"\u65b9\u6cd5\u4e8c",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"JBoss"}),"\u7248\u672c\uff1a7.1.0"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["\u4ee5\u4e0b\u5185\u5bb9\u5747\u4e3a",(0,o.jsx)(n.code,{children:"JBoss"}),"\u5728",(0,o.jsx)(n.code,{children:"standalone"}),"\u542f\u52a8\u6a21\u5f0f\u4e0b\u7684\u8bf4\u660e\u53ca\u914d\u7f6e"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.1/pdf/configuration_guide/Red_Hat_JBoss_Enterprise_Application_Platform-7.1-Configuration_Guide-en-US.pdf",children:"\u5b98\u65b9\u6587\u6863\u5730\u5740\uff08\u82f1\u6587[\u914d\u7f6e\u6307\u5357]\uff0c\u65e0\u4e2d\u6587\u7248\uff09"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://access.redhat.com/documentation/zh-cn/red_hat_jboss_enterprise_application_platform/7.1/pdf/getting_started_guide/Red_Hat_JBoss_Enterprise_Application_Platform-7.1-Getting_Started_Guide-zh-CN.pdf",children:"\u5b98\u65b9\u6587\u6863\u5730\u5740\uff08\u4e2d\u6587[\u8d77\u6b65\u6307\u5357]\uff09"})}),"\n",(0,o.jsxs)(n.h2,{id:"\u542f\u52a8jboss",children:["\u542f\u52a8",(0,o.jsx)(n.code,{children:"JBoss"})]}),"\n",(0,o.jsx)(n.p,{children:"Standalone \u65b9\u5f0f\u542f\u52a8"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:" --Linux\r\n ${EAP_HOME}/bin/standalone.sh\r\n --\u540e\u53f0\u542f\u52a8\r\n nohup ${EAP_HOME}/bin/standalone.sh &\r\n --Windows\r\n ${EAP_HOME}\\bin\\standalone.bat\n"})}),"\n",(0,o.jsxs)(n.h2,{id:"\u505c\u6b62jboss",children:["\u505c\u6b62",(0,o.jsx)(n.code,{children:"JBoss"})]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["\u975e\u540e\u53f0\u542f\u52a8\uff0c\u53ef\u91c7\u7528",(0,o.jsx)(n.code,{children:"Ctrl+c"}),"\u7684\u65b9\u5f0f\u505c\u6b62JBoss\uff1b"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["\u540e\u53f0\u542f\u52a8\u53ef\u4f7f\u7528",(0,o.jsx)(n.code,{children:"JBoss"}),"\u547d\u4ee4\u7684\u65b9\u5f0f\u505c\u6b62"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"--\u8fde\u63a5\u540e\u53f0\u63a7\u5236\u7a0b\u5e8f\r\n${EAP_HOME}/bin/jboss-cli.sh --connect\r\n--\u6267\u884c\u505c\u6b62\u547d\u4ee4\r\nshutdown\r\n--\u9000\u51fa\u540e\u53f0\u7a0b\u5e8f\uff08\u6216\u8005\u4f7f\u7528exit\uff09\r\nquit\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"\u76f4\u63a5\u6740\u8fdb\u7a0b"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u914d\u7f6e\u5e94\u7528\u53d1\u5e03\u540d",children:"\u914d\u7f6e\u5e94\u7528\u53d1\u5e03\u540d"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["\u6ce8\uff1a\u5982\u679c\u90e8\u7f72\u5305\u540d\u540c\u9700\u8981\u7684\u5e94\u7528\u4e0a\u4e0b\u6587\u76f8\u540c\uff0c\u53ef\u4e0d\u8fdb\u884c\u8be5\u9879\u914d\u7f6e\uff1b\u4f8b\u5982",(0,o.jsx)(n.code,{children:"sso.war"}),"\uff0c\u5e94\u7528\u4e0a\u4e0b\u6587\u4e5f\u662f",(0,o.jsx)(n.code,{children:"sso"}),"\uff0c\u5219\u53ef\u4e0d\u914d\u7f6e\u6b64\u9879\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5728\u5e94\u7528",(0,o.jsx)(n.code,{children:"WEB-INF"}),"\u76ee\u5f55\u4e0b\u6dfb\u52a0",(0,o.jsx)(n.code,{children:"jboss-web.xml"}),"\u6587\u4ef6\uff0c\u5e76\u5728\u6587\u4ef6\u4e2d\u7f16\u5199\u4ee5\u4e0b\u5185\u5bb9\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:"<jboss-web>\r\n    \x3c!-- \u914d\u7f6e\u5e94\u7528\u53d1\u5e03\u540d(\u4e0a\u4e0b\u6587) --\x3e\r\n\t<context-root>/</context-root>\r\n</jboss-web>\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u4ee5\u4e0a\u914d\u7f6e\u5c06\u66ff\u6362\u6389",(0,o.jsx)(n.code,{children:"JBoss"}),"\u7684\u9ed8\u8ba4\u6b22\u8fce\u9875\u9762"]}),"\n",(0,o.jsxs)(n.h2,{id:"\u4fee\u6539jboss\u7aef\u53e3",children:["\u4fee\u6539",(0,o.jsx)(n.code,{children:"JBoss"}),"\u7aef\u53e3"]}),"\n",(0,o.jsxs)(n.p,{children:["\u4fee\u6539\u914d\u7f6e\u6587\u4ef6",(0,o.jsx)(n.code,{children:"${EAP_HOME}/standalone\\configuration\\standalone.xml"})]}),"\n",(0,o.jsx)(n.p,{children:"\u5728\u6587\u4ef6\u7684\u6700\u540e\uff0c\u627e\u5230\u5982\u4e0b\u914d\u7f6e\u9879\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<socket-binding-group name="standard-sockets" default-interface="public" port-offset="${jboss.socket.binding.port-offset:0}">\r\n        <socket-binding name="management-http" interface="management" port="${jboss.management.http.port:9990}"/>\r\n        <socket-binding name="management-https" interface="management" port="${jboss.management.https.port:9993}"/>\r\n        <socket-binding name="ajp" port="${jboss.ajp.port:8009}"/>\r\n        <socket-binding name="http" port="${jboss.http.port:8080}"/>\r\n        <socket-binding name="https" port="${jboss.https.port:8443}"/>\r\n        <socket-binding name="txn-recovery-environment" port="4712"/>\r\n        <socket-binding name="txn-status-manager" port="4713"/>\r\n        <outbound-socket-binding name="mail-smtp">\r\n            <remote-destination host="localhost" port="25"/>\r\n        </outbound-socket-binding>\r\n    </socket-binding-group>\n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u5176\u4e2d",(0,o.jsx)(n.code,{children:'<socket-binding name="http" port="${jboss.http.port:8080}"/>'}),"\u914d\u7f6e\u7684\u5c31\u662f\u5e94\u7528\u90e8\u7f72\u7684\u7aef\u53e3\uff0c\u9ed8\u8ba4\u4e3a8080\uff0c\u53ef\u6839\u636e\u9700\u8981\u4fee\u6539\u4e3a\u60f3\u8981\u7684\u7aef\u53e3\u3002"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"\u8bf4\u660e\uff1a"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u4e00\u4e2a\u670d\u52a1\u5668\u4e2d\u9700\u8981\u90e8\u7f72\u591a\u4e2a",(0,o.jsx)(n.code,{children:"JBoss"}),"\uff0c\u5176\u4f59\u7aef\u53e3\u4e5f\u90fd\u9700\u8981\u6539\u6210\u4e0e\u5176\u4ed6",(0,o.jsx)(n.code,{children:"JBoss"}),"\u4e0d\u540c\u7684\u7aef\u53e3\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["\u6216\u8005\u4fee\u6539\u6807\u7b7e",(0,o.jsx)(n.code,{children:"<socket-binding-group>"}),"\u7684",(0,o.jsx)(n.code,{children:"port-offset"}),"\u5c5e\u6027\uff0c\u5c060\u6539\u4e3a\u4efb\u610f\u6574\u6570n\uff08\u53ef\u6b63\u53ef\u8d1f\uff09\uff0c\u8868\u793a\u5c06\u6240\u6709\u7aef\u53e3\u504f\u79fbn\u4f4d\uff08\u4f46\u662f\u6b64\u79cd\u65b9\u5f0f\u4e5f\u4f1a\u5c06\u5e94\u7528\u90e8\u7f72\u7684\u7aef\u53e3\u8fdb\u884c\u504f\u79fb\uff0c\u56e0\u6b64\u8bbe\u7f6e\u5e94\u7528\u90e8\u7f72\u7aef\u53e3\u65f6\u9700\u8981\u6839\u636e\u504f\u79fb\u91cf\u8fdb\u884c\u8ba1\u7b97\u8bbe\u7f6e\uff09\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u5e94\u7528\u90e8\u7f72\u53ca\u89e3\u90e8\u7f72",children:"\u5e94\u7528\u90e8\u7f72\u53ca\u89e3\u90e8\u7f72"}),"\n",(0,o.jsx)(n.h3,{id:"1-war\u5305\u90e8\u7f72",children:"1. WAR\u5305\u90e8\u7f72"}),"\n",(0,o.jsx)(n.h4,{id:"\u65b9\u5f0f1",children:"\u65b9\u5f0f1"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["\u6b64\u65b9\u5f0f\u901a\u8fc7",(0,o.jsx)(n.code,{children:"JBoss"}),"\u63d0\u4f9b\u547d\u4ee4\u65b9\u5f0f\u8fdb\u884c\u90e8\u7f72\u3002\u90e8\u7f72\u7075\u6d3b\uff0c\u90e8\u7f72\u5305\u53ef\u5728\u670d\u52a1\u5668\u4efb\u610f\u8def\u5f84\u4e0b\u3002\u4f46\u662f\u90e8\u7f72\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u6253\u5370\u542f\u52a8\u65e5\u5fd7\uff0c\u5f53\u51fa\u73b0\u5f02\u5e38\u65f6\u4f1a\u63d0\u793a\u5f02\u5e38\u4fe1\u606f\u3002"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"--\u8fde\u63a5\u540e\u53f0\u63a7\u5236\u7a0b\u5e8f\uff08JBoss\u5904\u4e8e\u542f\u52a8\u72b6\u6001\uff09\r\n${EAP_HOME}/bin/jboss-cli.sh --connect\r\n--\u901a\u8fc7\u90e8\u7f72\u547d\u4ee4\u90e8\u7f72\r\ndeploy /opt/app/uias.war\r\n--\u89e3\u90e8\u7f72(\u547d\u4ee4undeploy \u90e8\u7f72\u540d\u79f0\uff0c\u9ed8\u8ba4\u8ddf\u90e8\u7f72\u5305\u540d\u4e00\u81f4)\r\nundeploy uias.war\n"})}),"\n",(0,o.jsx)(n.h4,{id:"\u65b9\u5f0f2",children:"\u65b9\u5f0f2"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"\u7c7b\u4f3cTomcat\u7684\u90e8\u7f72\u65b9\u5f0f"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u76f4\u63a5\u5c06\u8981\u90e8\u7f72\u7684\u5305\uff0c\u653e\u5230",(0,o.jsx)(n.code,{children:"JBoss"}),"\u6307\u5b9a\u76ee\u5f55\u4e0b\uff0c",(0,o.jsx)(n.code,{children:"JBoss"}),"\u5982\u679c\u662f\u542f\u52a8\u72b6\u6001\uff0c\u4f1a\u81ea\u52a8\u90e8\u7f72\u5e94\u7528\u5305\uff0c\u5982\u679c\u662f\u505c\u6b62\u72b6\u6001\uff0c\u5728\u542f\u52a8",(0,o.jsx)(n.code,{children:"JBoss"}),"\u65f6\u4f1a\u90e8\u7f72\u5e94\u7528\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"JBoss"}),"\u90e8\u7f72\u76ee\u5f55\uff1a",(0,o.jsx)(n.code,{children:"${EAP_HOME}\\standalone\\deployments\\"})]}),"\n",(0,o.jsx)(n.p,{children:"\u89e3\u90e8\u7f72\uff1a"}),"\n",(0,o.jsx)(n.h4,{id:"\u65b9\u5f0f3",children:"\u65b9\u5f0f3"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"\u63a7\u5236\u53f0\u754c\u9762\u90e8\u7f72"}),"\n",(0,o.jsx)(n.p,{children:"\u597d\u5904\uff1a\u754c\u9762\u65b9\u4fbf\u64cd\u4f5c"}),"\n",(0,o.jsx)(n.p,{children:"\u5f0a\u7aef\uff1a\u9700\u8981\u624b\u52a8\u6307\u5b9a\uff08\u624b\u5199\uff0c\u4e0d\u80fd\u9009\u62e9\uff09\u90e8\u7f72\u5305\u5728\u670d\u52a1\u5668\u4e0a\u7684\u8def\u5f84\uff0c\u6216\u8005\u9009\u62e9\u672c\u5730\u90e8\u7f72\u5305\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u3002"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u4e0d\u63a8\u8350\u6b64\u65b9\u5f0f\uff0c\u8fd9\u91cc\u4e0d\u518d\u8be6\u7ec6\u8bf4\u660e\u3002"}),"\n",(0,o.jsx)(n.h3,{id:"2-\u6587\u4ef6\u5939\u90e8\u7f72",children:"2. \u6587\u4ef6\u5939\u90e8\u7f72"}),"\n",(0,o.jsx)(n.h4,{id:"21-\u4fee\u6539-jboss-\u914d\u7f6e",children:"2.1 \u4fee\u6539 JBoss \u914d\u7f6e"}),"\n",(0,o.jsxs)(n.p,{children:["JBoss\u9ed8\u8ba4\u914d\u7f6e\u662f\u4e0d\u4f1a\u81ea\u52a8\u90e8\u7f72\u6587\u4ef6\u5939\u7684\uff0c\u5982\u679c\u8981\u90e8\u7f72\u6587\u4ef6\u5939\uff0c\u5219\u9700\u8981\u4fee\u6539",(0,o.jsx)(n.strong,{children:"JBOSS"}),"\u914d\u7f6e\uff0c\u914d\u7f6e\u65b9\u5f0f\u6709\u4ee5\u4e0b\u4e24\u79cd\uff1a"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.strong,{children:"\u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u6587\u4ef6"})}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u627e\u5230 JBoss \u914d\u7f6e\u6587\u4ef6",(0,o.jsx)(n.code,{children:"EAP_HOME/standalone/configuration/standalone.xml"}),"\uff0c\u627e\u5230\u5982\u4e0b\u914d\u7f6e\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<subsystem xmlns="urn:jboss:domain:deployment-scanner:2.0">\r\n            <deployment-scanner path="deployments" relative-to="jboss.server.base.dir" scan-interval="5000" runtime-failure-causes-rollback="${jboss.deployment.scanner.rollback.on.failure:false}"/>\r\n</subsystem>\n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u5728",(0,o.jsx)(n.code,{children:"<deployment-scanner>"}),"\u6807\u7b7e\u4e2d\u6dfb\u52a0\u5c5e\u6027",(0,o.jsx)(n.code,{children:'auto-deploy-exploded="true"'}),"\uff0c\u610f\u601d\u4e3a\uff1a\u81ea\u52a8\u90e8\u7f72\u6587\u4ef6\u5939\u3002"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"\u6ce8"}),"\uff1a\u4e0d\u63a8\u8350\u4f7f\u7528\u8be5\u65b9\u5f0f\u3002\u56e0\u4e3a\u624b\u52a8\u4fee\u6539\u9700\u8981\u91cd\u542f JBOSS\uff0c\u914d\u7f6e\u624d\u80fd\u751f\u6548\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"\u901a\u8fc7\u547d\u4ee4\u65b9\u5f0f\u4fee\u6539\u914d\u7f6e\u6587\u4ef6"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"--\u8fde\u63a5\u7ba1\u7406CLI\r\nEAP_HOME/bin/jboss-cli.sh --connect\r\n--\u4fee\u6539\u914d\u7f6e\r\n/subsystem=deployment-scanner/scanner=default:write-attribute(name=auto-deploy-exploded,value=true)\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"22-\u90e8\u7f72\u6587\u4ef6\u5939",children:"2.2 \u90e8\u7f72\u6587\u4ef6\u5939"}),"\n",(0,o.jsxs)(n.p,{children:["\u7136\u540e\u5c06\u8981\u90e8\u7f72\u7684\u6587\u4ef6\u5939\u91cd\u540d\u4e3a\u4ee5\u3010",(0,o.jsx)(n.em,{children:".war"}),"\u3011\u7ed3\u5c3e\u7684\u3002\u4f8b\u5982\u8981\u90e8\u7f72\u540d\u4e3a",(0,o.jsx)(n.em,{children:"uias"}),"\u7684\u6587\u4ef6\u5939\uff0c\u5219\u9700\u8981\u5c06\u6587\u4ef6\u5939\u91cd\u547d\u540d\u4e3a\uff1a",(0,o.jsx)(n.em,{children:"uias.war"}),"\u3002\u5c06\u91cd\u547d\u540d\u540e\u7684\u6587\u4ef6\u5939\uff0c\u653e\u5230 JBoss\u7684\u90e8\u7f72\u76ee\u5f55\u4e0b\uff08",(0,o.jsx)(n.code,{children:"EAP_HOME/standalone/deployments/"}),"\uff09\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u7b49\u5f85\u90e8\u7f72\u76ee\u5f55\u4e0b\u4f1a\u751f\u6210\u4e00\u4e2a\u540e\u7f00\u4e3a ",(0,o.jsx)(n.em,{children:".depolyed"})," \u7684\u6587\u4ef6\uff0c\u8868\u793a\u90e8\u7f72\u6210\u529f\u3002\u5982\u679c\u90e8\u7f72\u5931\u8d25\uff0c\u4f1a\u751f\u6210\u4e00\u4e2a ",(0,o.jsx)(n.em,{children:".failed"})," \u4e3a\u540e\u7f00\u7684\u6587\u4ef6\u3002"]}),"\n",(0,o.jsx)(n.h2,{id:"\u89e3\u51b3jboss\u542f\u52a8\u65f6\u65e0\u6cd5\u8fde\u63a5zookeeper\u7684\u95ee\u9898",children:"\u89e3\u51b3JBoss\u542f\u52a8\u65f6\u65e0\u6cd5\u8fde\u63a5zookeeper\u7684\u95ee\u9898"}),"\n",(0,o.jsx)(n.h3,{id:"\u65b9\u6cd5\u4e00",children:"\u65b9\u6cd5\u4e00"}),"\n",(0,o.jsxs)(n.p,{children:["\u627e\u5230JBoss\u914d\u7f6e\u6587\u4ef6",(0,o.jsx)(n.code,{children:"${JBOSS_HOME}\\standalone\\configuration\\standalone.xml"}),",\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u627e\u5230\u4ee5\u4e0b\u914d\u7f6e\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<extensions>\r\n    ......\r\n    <extension module="org.jboss.as.sar"/>\r\n    <extension module="org.jboss.as.security"/>\r\n    <extension module="org.jboss.as.transactions"/>\r\n    <extension module="org.jboss.as.webservices"/>\r\n    <extension module="org.jboss.as.weld"/>\r\n    ......\r\n</extensions>\n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u5c06\u6807\u7b7e",(0,o.jsx)(n.code,{children:'<extension module="org.jboss.as.security"/>'}),"\u5220\u6389\u3002"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"\u6ce8\uff1a\u8be5\u6807\u7b7e\u4e00\u822c\u90fd\u5728\u914d\u7f6e\u6587\u4ef6\u6700\u4e0a\u65b9\u3002"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u7136\u540e\u5728\u518d\u627e\u5230\u4ee5\u4e0b\u914d\u7f6e\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<profile>\r\n    ......\r\n    <subsystem xmlns="urn:jboss:domain:security:2.0">\r\n        <security-domains>\r\n            ......\r\n        </security-domains>\r\n    </subsystem>\r\n    ......\r\n</profile>\n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u5c06\u6807\u7b7e",(0,o.jsx)(n.code,{children:"<<subsystem>"}),"\u4ee5\u53ca\u6807\u7b7e\u4e2d\u7684\u5185\u5bb9\u5168\u90e8\u5220\u9664\u3002"]}),"\n",(0,o.jsx)(n.h3,{id:"\u65b9\u6cd5\u4e8c",children:"\u65b9\u6cd5\u4e8c"}),"\n",(0,o.jsxs)(n.p,{children:["\u5728",(0,o.jsx)(n.code,{children:"jboss"}),"\u4e2d\u8bbe\u7f6e\u7cfb\u7edf\u53d8\u91cf",(0,o.jsx)(n.code,{children:"zookeeper.sasl.client"}),"\u4e3a",(0,o.jsx)(n.code,{children:"false"}),"\uff0c\u7ed5\u8fc7",(0,o.jsx)(n.code,{children:"Zookeeper"}),"\u670d\u52a1\u5668\u7684",(0,o.jsx)(n.code,{children:"SASL"}),"\u8eab\u4efd\u9a8c\u8bc1\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u914d\u7f6e\u6b65\u9aa4\uff1a"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["\u5728JBoss\u542f\u52a8\u72b6\u6001\u4e0b\uff0c\u767b\u5f55\u63a7\u5236\u53f0\uff08\u63a7\u5236\u53f0\u5730\u5740\uff1a",(0,o.jsx)(n.a,{href:"http://localhost:9990/console/index.html%EF%BC%89%EF%BC%8C%E4%BE%9D%E6%AC%A1%E7%82%B9%E5%87%BB%60Configuration%60%E2%80%94%E2%80%94%60System",children:"http://localhost:9990/console/index.html\uff09\uff0c\u4f9d\u6b21\u70b9\u51fb`Configuration`\u2014\u2014`System"})," Properties",(0,o.jsx)(n.code,{children:"\uff0c\u70b9\u51fb"}),"View`\u67e5\u770b\u3002"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"1573719418077",src:s(8629).A+"",width:"1286",height:"508"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["\u5728\u6253\u5f00\u9875\u9762\u4e2d\uff0c\u70b9\u51fb",(0,o.jsx)(n.code,{children:"\u6dfb\u52a0"}),"\uff0c\u586b\u5199Name\u4e3a",(0,o.jsx)(n.code,{children:"zookeeper.sasl.client"}),"\uff0cvalue\u4e3a",(0,o.jsx)(n.code,{children:"false"}),"\uff0c\u7136\u540e\u70b9\u51fb\u4fdd\u5b58\uff0c\u5373\u53ef\u3002"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"1573719658531",src:s(5064).A+"",width:"1096",height:"597"})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["\u6ce8\uff1a\u6b64\u65b9\u6cd5\uff0c\u4f1a\u5bfc\u81f4\u9879\u76ee\u5728\u542f\u52a8\u8fc7\u7a0b\u4e2d\uff0c\u6253\u5370\u3010\u8b66\u544a\u3011\u65e5\u5fd7\uff0c\u63d0\u793a",(0,o.jsx)(n.code,{children:"Zookeeper"}),"\u8eab\u4efd\u9a8c\u8bc1\u5931\u8d25\uff0c\u4ee5\u53ca",(0,o.jsx)(n.code,{children:"Will continue connection to Zookeeper server without SASL authentication, if Zookeeper server allows it."}),"(\u5982\u679c",(0,o.jsx)(n.code,{children:"Zookeeper"}),"\u670d\u52a1\u5668\u5141\u8bb8\uff0c\u5c06\u7ee7\u7eed\u8fde\u63a5\u5230",(0,o.jsx)(n.code,{children:"Zookeeper"}),"\u670d\u52a1\u5668\uff0c\u800c\u4e0d\u8fdb\u884c",(0,o.jsx)(n.code,{children:"SASL"}),"\u8eab\u4efd\u9a8c\u8bc1)\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u4e0d\u5f71\u54cd\u7a0b\u5e8f\u6b63\u5e38\u8c03\u7528",(0,o.jsx)(n.code,{children:"zookeeper"}),"\u670d\u52a1\uff0c\u5e94\u7528\u53ef\u6b63\u5e38\u8fd0\u884c\u3002"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:"Could not login: the client is being asked for a password, but the Zookeeper client code does not currently support obtaining a password from the user. Make sure that the client is configured to use a ticket cache (using the JAAS configuration setting 'useTicketCache=true)' and restart the client. If you still get this message after that, the TGT in the ticket cache has expired and must be manually refreshed. To do so, first determine if you are using a password or a keytab. If the former, run kinit in a Unix shell in the environment of the user who is running this Zookeeper client using the command 'kinit <princ>' (where <princ> is the name of the client's Kerberos principal). If the latter, do 'kinit -k -t <keytab> <princ>' (where <princ> is the name of the Kerberos principal, and <keytab> is the location of the keytab file). After manually refreshing your cache, restart this client. If you continue to see this message after manually refreshing your cache, ensure that your KDC host's clock is in sync with this host's clock.\r\n2019-11-14 20:53:29 [ WARN ] - SASL configuration failed: javax.security.auth.login.LoginException: java.lang.NullPointerException\r\n\tat org.jboss.as.security.RealmDirectLoginModule.validatePassword(RealmDirectLoginModule.java:233)\r\n\tat org.jboss.security.auth.spi.UsernamePasswordLoginModule.login(UsernamePasswordLoginModule.java:283)\r\n\tat org.jboss.as.security.RealmDirectLoginModule.login(RealmDirectLoginModule.java:157)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat javax.security.auth.login.LoginContext.invoke(LoginContext.java:755)\r\n\tat javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)\r\n\tat javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)\r\n\tat javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)\r\n\tat javax.security.auth.login.LoginContext.login(LoginContext.java:587)\r\n\tat org.apache.zookeeper.Login.login(Login.java:292)\r\n\tat org.apache.zookeeper.Login.<init>(Login.java:93)\r\n\tat org.apache.zookeeper.client.ZooKeeperSaslClient.createSaslClient(ZooKeeperSaslClient.java:198)\r\n\tat org.apache.zookeeper.client.ZooKeeperSaslClient.<init>(ZooKeeperSaslClient.java:104)\r\n\tat org.apache.zookeeper.ClientCnxn$SendThread.startConnect(ClientCnxn.java:943)\r\n\tat org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:993)\r\n\t\r\n Will continue connection to Zookeeper server without SASL authentication, if Zookeeper server allows it.\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8629:(e,n,s)=>{s.d(n,{A:()=>o});const o=s.p+"assets/images/1573719418077-0423af8d205ac22a004daee809c8699b.png"},5064:(e,n,s)=>{s.d(n,{A:()=>o});const o=s.p+"assets/images/1573719658531-3c50299e0c9264e2fcd7d422c664c723.png"},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>l});var o=s(6540);const r={},i=o.createContext(r);function t(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);